{% extends 'base.html' %}

{% block body %}

<div class="jumbotron">
  <h5> <li style="text-decoration:none; color: rgb(39, 177, 12)">{{ category.title }}</li> </h5>
  {% if category.description %}
  <p class="lead" style="font-size:16px; color: rgb(39, 119, 23)">{{ category.description }}</p>
  {% endif %}
</div>


{% for recipe in category.recipes %}
<li style="text-decoration:none; color: rgb(23, 107, 6)" class="list-group-item-action">
  <a href="/users/{{ g.user.id }}/recipes/{{ recipe.id }}" style="text-decoration:none; color: rgb(39, 177, 12)">{{ recipe.title }}</a>
  <button class="delete-recipe btn-sm btn-danger" data-id="{{ recipe.id }}" data-category_id="{{category.id}}" data-user_id="{{user_id}}">X</button>

  <button type="button" id="formButton">Edit!</button>
<form id="formEdit" data-id="{{ recipe.id }}" data-category_id="{{category.id}}" data-user_id="{{user_id}}">
  <b>title:</b><input type="text" id="title" name="title" value="{{ recipe.title }}">
  <b>Summary:</b><input type="text" id="summary" name="summary" value="{{ recipe.summary }}">
   <button class="btn btn-success mt-4" id="submitEdit">Submit</button>
</form>
 
</li>
{% endfor %}


{% for myrecipe in category.myrecipes %}
<li style="text-decoration:none; color: rgb(23, 107, 6)" class="list-group-item-action">
  <a href="/users/{{ g.user.id }}/myrecipes/{{ myrecipe.id }}" style="text-decoration:none; color: rgb(39, 177, 12)">{{ myrecipe.title }}</a>
  <button class="delete-recipe btn-sm btn-danger" data-id="{{ myrecipe.id }}" data-category_id="{{category.id}}" data-user_id="{{user_id}}">X</button>
</li>
{% endfor %}


<br>
<div>
<a class="btn btn-outline-success" href="/users/{{ g.user.id }}/categories/{{ category.id }}/add_saved_recipe">
  Add a recipe from your saved recipes</a><br>
<a class="btn btn-outline-success" href="/users/{{ g.user.id }}/categories/{{ category.id }}/add_own_recipe">
  Add a recipe from your created recipes</a><br>

{% if g.user.id == category.user_id %}
<form method="POST" action="/users/{{ g.user.id }}/categories/{{ category.id }}/delete">
  <button class="btn btn-outline-danger">Delete this Category!</button>
</form>
{% endif %}
</div>


{% endblock %}